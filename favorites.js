const favoriteData = [
    {
        img: "images/25.jpg",
        orientation: "portrait",
        comment: "<br><br>이 사진은 대부도 탄도항에서 찍은 사진이에요.<br><br><br>저는 대부도를 참 좋아해요.<br><br><br>차도, 면허도 없는 저는<br>혼자 여행할 때<br>교통편을 중요하게 생각할 수밖에 없는데,<br>대부도는 인천에서 버스를 타고<br>환승 한 번 없이<br>대부도 안까지 들어갈 수 있거든요.<br><br><br>물론 인천에도<br>을왕리, 월미도, 영종도, 강화도 등의 여행지가 있지만,<br>접근성에 비해 만족도가 높은 대부도를<br>저는 정말 자주 방문합니다.<br><br><br>가끔 바다가 보고 싶으면<br>혼자 버스를 타고 대부도에 방문하여<br>푸짐한 해물칼국수를 한 그릇 먹고,<br>근처 해변을 무작정 걷다가,<br>카페에도 오래 앉아 있고,<br>저녁에는 해변에서 일몰을 감상하다 돌아오곤 합니다.<br><br><br>서해는 역시 일몰이 중요한데,<br>대부도에도 일몰 명소가 여러 군데 있어요.<br><br><br>이 사진은 그 중 하나인 탄도항에 방문하여 찍었던 하늘인데,<br>이날 하늘이 주황빛, 분홍빛으로 물들어<br>아주 예뻤어요.<br><br><br>탄도항 전망대에서 바라보는 일몰도 무척 좋지만,<br>물때에 맞춰 바닷길이 열리면<br>누에섬으로 걸어 들어갈 수도 있어요.<br>꼭 방문해보세요.<br><br><br>돌아올 때는 대부도 포도로 만든 포도빵을 사와 주변에 나눠주면,<br>특히 아이들이 매우 좋아하더라구요.<br><br>"      },
      {
        img: "images/13.jpg",
        orientation: "portrait",
        comment: "<br><br>이 사진은 목포에서 찍은 사진이에요.<br><br><br>인천에서 목포는 쉽게 방문하기엔<br>거리가 먼 지역이에요.<br>저도 당시 광주에서 재학 중이던 친구를 만나러 갔다가<br>운 좋게 여행했습니다.<br><br><br>그래도 성인이 된 이후로 국내 곳곳을 여행해 본 저에게<br>목포는 손꼽히는 여행지 중 하나에요.<br><br><br>저는 여행할 때<br>풍경과 음식을 중요시하는데,<br>목포는 이 두 가지가 매우 만족스러웠거든요.<br<br>><br>인천에서 자라며 서해를 제일 자주 본 저에게<br>목포의 바다는 무척 아름다웠고,<br>음식은 말할 것도 없었답니다.<br>게장, 민어, 낙지, 육회 등<br>모두 훌륭했어요.<br>방문한 모든 식당의 밑반찬까지도<br>전부 만족스러웠습니다.<br><br><br>추가로 목포에 방문한다면<br>국내 최장길이의 해상 케이블카도<br>꼭 타보시길 추천해요.<br>바닥이 투명한 케이블카를 타고<br>바다 위를 건너는 기분을<br>꼭 느껴보시길 바라요.<br><br>"      },
      {
        img: "images/35.jpg",
        orientation: "landscape",
        comment: "<br><br>이 사진은 제주도에 위치한<br>에코랜드에서 찍은 사진이에요.<br><br><br>제 또래라면 아마 고등학생 때<br>수학여행으로 제주도를 방문하여<br>이 곳에 들렀던 기억이 있을 거예요.<br>자연 중심의 관광지라<br>또래 친구들과의 시끌벅적한 분위기에서는<br>온전한 감상이 힘들어<br>아마 크게 즐거운 기억이 남아 있지는 않을 거예요.<br>저도 역시 그랬구요.<br><br><br>그러나 성인이 되어<br>제주도 여행 중 우연히 방문했는데,<br>정말 좋은 시간을 보내고 왔어요.<br><br>테마별로 나눠진 공간을<br>기차를 타고 이동하며<br>자연을 천천히 감상할 수 있었어요.<br>중간중간 체험 공간도 마련되어 있어<br>즐길거리도 많았구요.<br<br><br>이전의 기억과 상반되는 경험을 하고 와서인지<br>오래 기억에 남는 곳이었어요.<br><br><br>혹시 예전 기억이 별로 좋지 않더라도<br>다시 한 번 들러<br>몇 시간 천천히 둘러보시면<br>분명 다른 감상을 얻을 수 있을 거예요.<br><br>"      },
      {
        img: "images/44.jpg",
        orientation: "portrait",
        comment: "<br><br>이 사진은 우도에서 찍은 사진이에요.<br><br><br>24년도 여름,<br>저는 70L 베낭에 10kg이 넘는 짐을 넣어<br>제주 올레길을 따라<br>몇 주간 백패킹을 했어요.<br><br><br>우도는 2일차에 방문했어요.<br><br><br>우도는 흔히<br>백패킹 성지라고도 불리기도 해요.<br>우도에서 걸어서 들어갈 수 있는<br>비양도까지 포함해서요.<br><br><br>보통 우도는<br>항구 근처에서 전동차나 스쿠터를 빌려<br>몇 시간 내에 알차게 구경할 수 있는 크기의 섬이에요.<br>하지만 30L 정도의 가벼운 베낭을 메고<br>우도를 걸어서 둘러보는 것도<br>개인적으로 매우 추천해요.<br><br><br>관광지로 유명하기에<br>식당과 카페도 많고,<br>정말 걸어다니는 모든 곳이 예쁘거든요.<br><br><br>이미 여러 번 방문했지만<br>또 가고 싶은 곳이에요.<br><br><br>사진은 제가 하룻밤을 보내기도 했던<br>우도산호해수욕장이에요.<br>가장 제주다운 해변으로 불릴 만큼<br>아름다운 해변이에요.<br>산호사해변이라고도 불리는데,<br>일반 모래로만 이루어진 해변이 아닌<br>산호조각들이 섞여 있어 더욱 특별해요.<br>바다 너머로는<br>성산일출봉도 보여요.<br><br>"      },
      {
        img: "images/55.jpg",
        orientation: "landscape",
        comment: "<br><br>이 사진은 올레길 걷기 10일차쯤,<br>속골유원지에서 찍은 사진이에요.<br><br><br>이 날 오전엔 갑자기 비가 내려<br>산길에서 고생을 많이 했는데,<br>비가 그치고 속골유원지에 도착했을 때는<br>오전에 내린 비에 감사하게 되었어요.<br>하늘이 무척이나 맑았거든요.<br>바다 멀리 커다란 무지개도 보였구요.<br><br><br>저는 근처에 텐트를 치고<br>물에 들어가서 더위를 씻어냈어요.<br>사진도 엄청 많이 찍었구요.<br><br><br>이 곳은 계곡과 바다가 만나는 곳인데,<br>바다 너머로는<br>범섬이라는 작은 섬이 보여요.<br><br><br>저는 못 봤지만,<br>운이 좋으면<br>돌고래가 헤엄치는 모습도 볼 수 있구요.<br><br><br>주변의 많은 야자수도 풍경을 더해주고,<br>근처에 위치한 선인장군락지도 유명해요.<br><br><br>원래 7~8월 여름 성수기에는<br>사진에 보이는 돌다리에 앉아<br>물에 발을 담그고<br>백숙 같은 음식을 먹는 곳이었지만,<br>제가 방문했을 때는 코로나로 인해<br>몇 년간 방치된 상태였어요.<br>아마 지금은 다시 운영 중일 거예요.<br><br><br>그래도 저는<br>사람이 붐비는 성수기를 피해,<br>제가 방문했던<br>6월쯤 방문하는 것을 더 추천해요.<br><br>"      }
  ];
  
  let currentFavorite = 0;
  
  const photo = document.getElementById("favorite-main");
  const comment = document.getElementById("favorite-comment");
  const nextButton = document.getElementById("next-button");
  
  function updateFavorite(index) {
    const data = favoriteData[index];
    const container = document.querySelector('.favorites-container');
    
    container.classList.remove('fade-in');
    container.classList.add('fade-out');

    setTimeout(() => {
        
        photo.src = data.img;
        comment.innerHTML = `<p>${data.comment}</p>`;

        
        container.classList.remove('portrait', 'landscape');
        container.classList.add(data.orientation);

        
        const commentBox = document.querySelector('.favorite-comment-scroll');
        if (commentBox) commentBox.scrollTop = 0;

        if (index === favoriteData.length - 1) {
            nextButton.textContent = "← 처음으로";
        } else {
            nextButton.textContent = "다음으로 →";
        }

        
        container.classList.remove('fade-out');
        container.classList.add('fade-in');
        
        setTimeout(() => {
            container.classList.remove('fade-in');
        }, 500); 
    }, 500); 
}
  
const commentScroll = document.querySelector('.favorite-comment-scroll');
const THRESHOLD = 50; 

commentScroll.addEventListener('scroll', function() {
  const atBottom =
    commentScroll.scrollTop + commentScroll.clientHeight >= commentScroll.scrollHeight - THRESHOLD;
  if (atBottom) {
    nextButton.classList.add('show');
  } else {
    nextButton.classList.remove('show');
  }
});


function updateFavorite(index) {
  const data = favoriteData[index];
  photo.classList.add("fade-out");
  const container = document.querySelector('.favorites-container');
  container.classList.remove('portrait', 'landscape');
  container.classList.add(data.orientation);

  setTimeout(() => {
    photo.src = data.img;
    comment.innerHTML = `<p>${data.comment}</p>`;

    
    commentScroll.scrollTop = 0;
    nextButton.classList.remove('show');

    if (index === favoriteData.length - 1) {
      nextButton.textContent = "← 처음으로";
    } else {
      nextButton.textContent = "다음으로 →";
    }
    photo.classList.remove("fade-out");
  }, 300);
}

nextButton.addEventListener("click", () => {
  currentFavorite = (currentFavorite + 1) % favoriteData.length;
  updateFavorite(currentFavorite);
});

updateFavorite(currentFavorite);